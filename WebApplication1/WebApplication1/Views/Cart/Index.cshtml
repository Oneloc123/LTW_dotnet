@model List<CartItem> // load giao diện này với data lấy từ model cartitem
@{
    ViewData["Title"] = "Giỏ hàng";
}

<!-- Link font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

<!-- Link icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
      integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
      crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- Link CSS -->
<link rel="stylesheet" href="~/css/reset.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/grid.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/base.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/cart.css" asp-append-version="true" />

<div class="cart">
    <div class="grid wide">
        <div class="row small-gutter">
            <!-- left cart -->
            <div class="col l-9 m-12 c-12">
                <div class="cart__wrap">
                    <div class="cart__header">
                        <label class="cart__select-all">
                            <input type="checkbox" class="cart__checkbox" id="selectAll" />
                            <span>Chọn tất cả (<span id="countSelected">0</span>)</span>
                        </label>

                        <i class="fa-regular fa-trash-can cart__delete-all cart__delete-all--disable"></i>
                    </div>

                    <div class="cart__list">
                        @foreach (var item in Model)
                        {
                            <article class="cart-item">
                                <input type="checkbox" class="cart-item__checkbox" />

                                <a href="#!">
                                    <img src="@item.ImageUrl" class="cart-item__img" alt="@item.Name" />
                                </a>

                                <div class="cart-item__title">
                                    <h3>
                                        <a class="cart-item__name">@item.Name</a>
                                    </h3>

                                    <div class="cart-item__color">
                                        Màu: <span class="cart-item__color-selected">Xám</span>
                                        <i class="fa-solid fa-angle-down"></i>

                                        <!-- Dropdown menu -->
                                        <ul class="cart-item__color-menu">
                                            <li class="cart-item__color-menu__item">
                                                <img class="cart-item__color-menu__img" src="~/images/xiaomi_15t_pro_xam_5_a006830687.webp" alt="Xám">
                                                <span class="cart-item__color-menu__name">Xám</span>
                                            </li>

                                            <li class="cart-item__color-menu__item">
                                                <img class="cart-item__color-menu__img" src="img/red.png" alt="Vàng">
                                                <span class="cart-item__color-menu__name">Vàng</span>
                                            </li>

                                            <li class="cart-item__color-menu__item">
                                                <img class="cart-item__color-menu__img" src="img/blue.png" alt="Xanh">
                                                <span class="cart-item__color-menu__name">Xanh</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="cart-item__price-box">
                                    <span class="cart-item__price-current">
                                        @((item.Price * (1 - item.Discount / 100m)).ToString("N0"))đ
                                    </span>

                                    @if (item.Discount > 0)
                                    {
                                        <span class="cart-item__price-old">@item.Price.ToString("N0")đ</span>
                                    }
                                </div>

                                <div class="cart-item__quantity .cart-item__quantity--disable">
                                    <button class="cart-item__btn cart-item__btn--minus">-</button>
                                    <span class="cart-item__quantity-value">@item.Quantity</span>
                                    <button class="cart-item__btn cart-item__btn--plus">+</button>
                                </div>


                                <i class="fa-regular fa-trash-can cart-item__delete"></i>
                            </article>
                        }
                    </div>
                </div>
            </div>

            <!-- right cart -->
            <div class="col l-3 m-0 c-0">
                <div class="cart__wrap">
                    <div class="cart__header">
                        <div class="cart-header__select-all">
                            <i class="cart-header__gift-icon fa-solid fa-gift"></i>
                            <span class="cart-header__text">Quà tặng</span>
                        </div>

                        <a href="#!" class="cart-header__view-link">
                            Xem quà (<span class="cart-header__count">0</span>)
                        </a>
                    </div>

                    <aside class="cart-summary">
                        <h3 class="cart-summary__title">Thông tin đơn hàng</h3>

                        <div class="cart-summary__item cart-summary__divider">
                            <span class="cart-summary__label">Tổng tiền</span>
                            <span class="cart-summary__value">0đ</span>
                        </div>

                        <div class="cart-summary__item">
                            <span class="cart-summary__label">Tổng khuyến mãi</span>
                            <span class="cart-summary__value">0đ</span>
                        </div>

                        <!-- Nhóm giảm giá -->
                        <div class="cart-summary__group">
                            <div class="cart-summary__item">
                                <span class="cart-summary__label">Giảm giá sản phẩm</span>
                                <span class="cart-summary__value">0đ</span>
                            </div>

                            <div class="cart-summary__item cart-summary__divider--dashed">
                                <span class="cart-summary__label">Voucher</span>
                                <span class="cart-summary__value">0đ</span>
                            </div>
                        </div>

                        <div class="cart-summary__item cart-summary__item--total">
                            <span class="cart-summary__label">Cần thanh toán</span>
                            <span class="cart-summary__value cart-summary__value--highlight">0đ</span>
                        </div>

                        <button class="cart-summary__btn btn btn--primary-color">
                            Xác nhận đơn
                        </button>
                    </aside>
                </div>
            </div>

        </div>

    </div>
</div>

